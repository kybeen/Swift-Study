# **Chapter 27. ARC**
- ì „ë‹¬í•  ë•Œë§ˆë‹¤ ê°’ì„ ë³µì‚¬í•˜ëŠ” ê°’ íƒ€ì…ê³¼ëŠ” ë‹¬ë¦¬ `ì°¸ì¡° íƒ€ì…`ì€ `í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤`ê°€ `ì°¸ì¡°`ë¥¼ í†µí•´ ì—¬ëŸ¬ ê³³ì—ì„œ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— **`ë©”ëª¨ë¦¬ì—ì„œ ì–¸ì œ í•´ì œë˜ëŠ”ì§€ê°€ ì¤‘ìš”`** í•˜ë‹¤.
- **`ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì ì ˆí•œ ì‹œì ì— ë©”ëª¨ë¦¬ì—ì„œ í•´ì œ`** ì‹œì¼œì¤˜ì•¼ í•œì •ì ì¸ ë©”ëª¨ë¦¬ ìì›ì˜ ë‚­ë¹„ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤.
- **ìŠ¤ìœ„í”„íŠ¸ëŠ” ë©”ëª¨ë¦¬ ê´€ë¦¬ ê¸°ë²•ìœ¼ë¡œ `ARC`ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.**
---

## ARC(Automatic Reference Counting) ë€?
- ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” ë°©ì‹
- ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.

### ğŸ“Œ `ê°€ë¹„ì§€ ì»¬ë ‰ì…˜(Garbage Collection) ê¸°ë²•ê³¼ì˜ ì°¨ì´`
- ê°€ì¥ í° ì°¨ì´ëŠ” ì°¸ì¡°ë¥¼ `ê³„ì‚°(Count)í•˜ëŠ” ì‹œì `
  - ARCëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì–¸ì œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì–´ì•¼ í• ì§€ë¥¼ **`ì»´íŒŒì¼ê³¼ ë™ì‹œì— ê²°ì •`** í•œë‹¤.

  | ë©”ëª¨ë¦¬ ê´€ë¦¬ ê¸°ë²• | ARC | ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ |
  | :--- | :--- | :--- |
  | **ì°¸ì¡° ì¹´ìš´íŒ… ì‹œì ** | ì»´íŒŒì¼ ì‹œ | í”„ë¡œê·¸ë¨ ë™ì‘ ì¤‘ |
  | **ì¥ì ** | ğŸŸ¢ ì»´íŒŒì¼ ë‹¹ì‹œ ì´ë¯¸ ì¸ìŠ¤í„´ìŠ¤ì˜ í•´ì œ ì‹œì ì´<br>ì •í•´ì ¸ ìˆì–´ì„œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì–¸ì œ ë©”ëª¨ë¦¬ì—ì„œ<br>í•´ì œë ì§€ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤.<br>ğŸŸ¢ ì»´íŒŒì¼ ë‹¹ì‹œ ì´ë¯¸ ì¸ìŠ¤í„´ìŠ¤ì˜ í•´ì œ ì‹œì ì´<br>ì •í•´ì ¸ ìˆì–´ì„œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•œ ì‹œìŠ¤í…œ<br>ìì›ì„ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ë‹¤. | ğŸŸ¢ ìƒí˜¸ ì°¸ì¡° ìƒí™© ë“±ì˜ ë³µì¡í•œ ìƒí™©ì—ì„œë„<br>ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•´ì œí•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´<br>ë” ë†’ë‹¤.<br>ğŸŸ¢ íŠ¹ë³„íˆ ê·œì¹™ì— ì‹ ê²½ ì“¸ í•„ìš”ê°€ x |
  | **ë‹¨ì ** | ğŸ”´ ARCì˜ ì‘ë™ ê·œì¹™ì„ ëª¨ë¥´ê³  ì‚¬ìš©í•˜ë©´<br>ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ ì˜ì›íˆ í•´ì œë˜ì§€<br>ì•Šì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤. | ğŸ”´ í”„ë¡œê·¸ë¨ ë™ì‘ ì™¸ì— ë©”ëª¨ë¦¬ ê°ì‹œë¥¼ ìœ„í•œ<br>ì¶”ê°€ ìì›ì´ í•„ìš”í•˜ë¯€ë¡œ í•œì •ì ì¸ ìì›<br>í™˜ê²½ì—ì„œëŠ” ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ<br>ğŸ”´ ëª…í™•í•œ ê·œì¹™ì´ ì—†ê¸° ë•Œë¬¸ì— ì¸ìŠ¤í„´ìŠ¤ê°€<br>ì •í™•íˆ ì–¸ì œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë ì§€ ì˜ˆì¸¡í•˜ê¸°<br>ì–´ë µë‹¤. |
---

- ARCë¥¼ ì´ìš©í•´ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ë°›ê¸° ìœ„í•´ì„œëŠ” ëª‡ ê°€ì§€ ê·œì¹™ì„ ì•Œì•„ì•¼ í•œë‹¤.
  - ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ê°€ ì´ë£¨ì–´ì§€ë„ë¡ í•˜ë ¤ë©´ ARCì— **ëª…í™•í•œ íŒíŠ¸**ë¥¼ ì œê³µí•´ì•¼ í•œë‹¤.

- í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤ ARCëŠ” ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬ ê³µê°„ì„ í• ë‹¹í•˜ê³ , ì´í›„ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš” ì—†ëŠ” ìƒíƒœê°€ ë˜ë©´ ë©”ëª¨ë¦¬ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—†ì•¤ë‹¤.
  - ğŸ‘‰ **ë§Œì•½ ì•„ì§ ë” ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œì‹œí‚¨ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ì™€ ê´€ë ¨ëœ í”„ë¡œí¼í‹° ì ‘ê·¼ê³¼ ë©”ì„œë“œ í˜¸ì¶œì´ ë¶ˆê°€í•´ì§€ê³ , ì˜ë—ëœ ë©”ëª¨ë¦¬ ì ‘ê·¼ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì´ ê°•ì œ ì¢…ë£Œë  ìˆ˜ ìˆë‹¤.**
- ğŸ‘‰ ì¸ìŠ¤í„´ìŠ¤ê°€ ì§€ì†ì ìœ¼ë¡œ í•„ìš”í•œ ìƒí™©ì— ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì§€ ì•Šë„ë¡ **`ARCëŠ” ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° ì—¬ë¶€ë¥¼ ê³„ì† ì¶”ì `** í•œë‹¤.
  - ë‹¤ë¥¸ ê³³ì—ì„œ `í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ê³³ì´ ìˆë‹¤ë©´` ARCê°€ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•˜ì§€ ì•Šê³  ìœ ì§€ì‹œì¼œì•¼ í•˜ëŠ” ëª…ë¶„ì´ ëœë‹¤.
---


## ê°•í•œì°¸ì¡°
- ì¸ìŠ¤í„´ìŠ¤ê°€ ê³„ì†í•´ì„œ ë©”ëª¨ë¦¬ì— ë‚¨ì•„ìˆì–´ì•¼ í•˜ëŠ” ëª…ë¶„ì„ ë§Œë“¤ì–´ ì£¼ëŠ” ê²ƒì´ ğŸ‘‰ **`ê°•í•œì°¸ì¡°(Strong Reference)`**
- âœ… ì¸ìŠ¤í„´ìŠ¤ëŠ” ì°¸ì¡° íšŸìˆ˜ê°€ `0`ì´ ë˜ëŠ” ìˆœê°„ `ë©”ëª¨ë¦¬ì—ì„œ í•´ì œ`ëœë‹¤.
- âœ… ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°, ë³€ìˆ˜, ìƒìˆ˜ ë“±ì— í• ë‹¹ ì‹œ ê°•í•œì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ `ì°¸ì¡° íšŸìˆ˜ê°€ 1 ì¦ê°€`í•œë‹¤.
- âœ… ê°•í•œì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí¼í‹°, ë³€ìˆ˜, ìƒìˆ˜ ë“±ì— `nil`ì„ í• ë‹¹í•´ì£¼ë©´ ì¸ìŠ¤í„´ìŠ¤ `ì°¸ì¡° íšŸìˆ˜ê°€ 1 ê°ì†Œ`í•œë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ ì°¸ì¡° ì‹œì—ëŠ” `ê°•í•œ ì°¸ì¡°`ë¡œ ì„ ì–¸ëœë‹¤.

``` Swift
// [ ê°•í•œì°¸ì¡°ì˜ ì°¸ì¡° íšŸìˆ˜ í™•ì¸ ]

class Person {
    let name: String
    
    init(name: String) {
        self.name = name
        print("\(name) is being initialized")
    }
    
    deinit {
        print("\(name) is being deinitialized")
    }
}

var reference1: Person?
var reference2: Person?
var reference3: Person?

reference1 = Person(name: "rei") // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
// rei is being initialized

reference2 = reference1 // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2
reference3 = reference1 // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 3

reference3 = nil // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2
reference2 = nil // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
reference1 = nil // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0
// rei is being deinitialized
/// ğŸ‘‰ ì°¸ì¡° íšŸìˆ˜ê°€ 0ì´ ë˜ëŠ” ìˆœê°„ ì¸ìŠ¤í„´ìŠ¤ëŠ” ARCì˜ ê·œì¹™ì— ì˜í•´ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ë©° ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ê¸° ì§ì „ì— ë””ì´ë‹ˆì…œë¼ì´ì €ë¥¼ í˜¸ì¶œí•œë‹¤.
```

``` Swift
// [ ê°•í•œì°¸ì¡° ì§€ì—­ë³€ìˆ˜(ìƒìˆ˜)ì˜ ì°¸ì¡° íšŸìˆ˜ í™•ì¸ ]

func foo() {
    let rei: Person = Person(name: "rei")   // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
    // rei is being initialized
    
    // í•¨ìˆ˜ ì¢…ë£Œ ì‹œì 
    // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0
    // rei is being initialized

    /// ğŸ‘‰ ê°•í•œì°¸ì¡° ì§€ì—­ë³€ìˆ˜(ìƒìˆ˜)ê°€ ì‚¬ìš©ëœ ë²”ìœ„ì˜ ì½”ë“œ ì‹¤í–‰ì´ ì¢…ë£Œë˜ë©´ ê·¸ ì§€ì—­ë³€ìˆ˜(ìƒìˆ˜)ê°€ ì°¸ì¡°í•˜ë˜ ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ê°€ 1 ê°ì†Œí•œë‹¤.
}
foo()
```

``` Swift
// [ ê°•í•œì°¸ì¡° ì§€ì—­ë³€ìˆ˜(ìƒìˆ˜)ì˜ ì°¸ì¡° íšŸìˆ˜ í™•ì¸ê³¼ ì „ì—­ë³€ìˆ˜ ]

var globalReference: Person?

func foo() {
    let rei: Person = Person(name: "rei")   // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
    // rei is being initialized
    
    globalReference = rei   // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2
    
    // í•¨ìˆ˜ ì¢…ë£Œ ì‹œì 
    // ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
    
    /// ğŸ‘‰ ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° íšŸìˆ˜ê°€ ì—¬ì „íˆ 1ì´ë¯€ë¡œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì§€ ì•ŠëŠ”ë‹¤.
}
foo()
```


### ğŸ“Œ `ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œ`
- ì¸ìŠ¤í„´ìŠ¤ë¼ë¦¬ ì„œë¡œê°€ ì„œë¡œë¥¼ ê°•í•¨ì°¸ì¡°ë¥¼ í•˜ê²Œ ë˜ëŠ” ìƒí™©ì„ `ê°•í•œì°¸ì¡° ìˆœí™˜(Strong Reference Cycle)`ì´ë¼ê³  í•œë‹¤.
    ``` Swift
    // [ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œ ]

    class Person {
        let name: String
        
        init(name: String) {
            self.name = name
        }
        
        var room: Room?
        
        deinit {
            print("\(name) is being deinitialized")
        }
    }

    class Room {
        let number: String
        
        init(number: String) {
            self.number = number
        }
        
        var host: Person?
        
        deinit {
            print("Room \(number) is being deinitialized")
        }
    }

    var rei: Person? = Person(name: "rei")  // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
    var room: Room? = Room(number: "505")   // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1

    room?.host = rei    // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2
    rei?.room = room    // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2

    rei = nil   // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
    room = nil  // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1

    /*
    Person ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•  ë°©ë²•ì„ ìƒì‹¤í–ˆì§€ë§Œ ë©”ëª¨ë¦¬ì—ëŠ” ë‚¨ì•„ ìˆìŒ
    Room ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•  ë°©ë²•ì„ ìƒì‹¤í–ˆì§€ë§Œ ë©”ëª¨ë¦¬ì—ëŠ” ë‚¨ì•„ ìˆìŒ
    ğŸ‘‰ Personê³¼ Roomì˜ ë””ì´ë‹ˆì…œë¼ì´ì €ê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
    ğŸ‘‰ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°œìƒ â€¼ï¸
    */
    ```

- ê°•í•œì°¸ì¡°ë¥¼ í•˜ê³  ìˆëŠ” í”„ë¡œí¼í‹°ì— ëª¨ë‘ `nil`ì„ í• ë‹¹í•´ì£¼ë©´ ì°¸ì¡° íšŸìˆ˜ë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œì‹œí‚¬ ìˆ˜ ìˆê¸°ëŠ” í•  ê²ƒì´ë‹¤.
- í•˜ì§€ë§Œ ì¼ì¼ì´ ì°¾ì•„ì„œ í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ê¹”ë”í•œ ë°©ì‹ì€ ì•„ë‹ˆë‹¤.
  - **`ì•½í•œ ì°¸ì¡°(Weak)`** ì™€ **`ë¯¸ì†Œìœ ì°¸ì¡°(Unowned)`** ë¥¼ í†µí•´ ë” ëª…í™•í•˜ê²Œ ìˆœí™˜ì°¸ì¡° ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
  ``` Swift
  // [ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œë¥¼ ìˆ˜ë™ìœ¼ë¡œ í•´ê²° ]
  
  var rei: Person? = Person(name: "rei")  // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
  var room: Room? = Room(number: "505")   // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
  
  room?.host = rei    // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2
  rei?.room = room    // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2
  
  rei?.room = nil     // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
  rei = nil           // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
  
  room?.host = nil    // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0
  // rei is being deinitialized
  
  room = nil          // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0
  // Room 505 is being deinitialized
  ```
---


## ì•½í•œì°¸ì¡° (Weak Reference)
- `ì•½í•œì°¸ì¡°(Weak Reference)`ëŠ” ê°•í•œì°¸ì¡°ì™€ ë‹¤ë¥´ê²Œ ìì‹ ì´ ì°¸ì¡°í•˜ëŠ” **`ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.`**
- âœ… ì°¸ì¡° íƒ€ì…ì˜ í”„ë¡œí¼í‹°ë‚˜ ë³€ìˆ˜ì˜ ì„ ì–¸ ì•ì— `weak` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì¤€ë‹¤.
- ì•½í•œì°¸ì¡°ëŠ” ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— `í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°•í•œ ì°¸ì¡°í•˜ë˜ ë‹¤ë¥¸ í”„ë¡œí¼í‹°ë‚˜ ë³€ìˆ˜ì—ì„œ ì°¸ì¡° íšŸìˆ˜ë¥¼ ê°ì†Œì‹œì¼œì„œ 0ì´ ë˜ë©´ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœë‹¤.`
  - â¡ï¸ ì•½í•œì°¸ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë  ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ˆìƒí•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
> ğŸš§ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë  ê²½ìš° `nil`ì´ í• ë‹¹ë  ìˆ˜ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì•½í•œì°¸ì¡°ëŠ” **`ìƒìˆ˜` ì—ì„œ ì“°ì¼ ìˆ˜ ì—†ê³ , í•­ìƒ `ì˜µì…”ë„`ì´ì–´ì•¼ í•œë‹¤.**

``` Swift
// [ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œë¥¼ ì•½í•œì°¸ì¡°ë¡œ í•´ê²° ]

class Person {
    let name: String
    
    init(name: String) {
        self.name = name
    }
    
    var room: Room?
    
    deinit {
        print("\(name) is being deinitialized")
    }
}

class Room {
    let number: String
    
    init(number: String) {
        self.number = number
    }
    
    // ì•½í•œì°¸ì¡°ë¥¼ í•˜ë„ë¡ weak í‚¤ì›Œë“œì™€ í•¨ê»˜ ì •ì˜
    weak var host: Person?
    
    deinit {
        print("Room \(number) is being deinitialized")
    }
}

var rei: Person? = Person(name: "rei")  // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
var room: Room? = Room(number: "505")   // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1

room?.host = rei    // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1 ğŸ‘‰ host í”„ë¡œí¼í‹°ëŠ” ì•½í•œì°¸ì¡°ë¥¼ í•˜ê¸° ë•Œë¬¸ì— ì°¸ì¡° íšŸìˆ˜ê°€ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.
rei?.room = room    // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 2

rei = nil   // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0, Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1 ğŸ‘‰ Person ì¸ìŠ¤í„´ìŠ¤ì˜ room í”„ë¡œí¼í‹°ê°€ ê°•í•œì°¸ì¡°ë¥¼ í•˜ê³  ìˆë˜ Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ë„ ê°ì†Œí•œë‹¤.
// rei is being deinitialized
print(room?.host)   // nil ğŸ‘‰ host í”„ë¡œí¼í‹°ëŠ” ì•½í•œì°¸ì¡°ë¥¼ í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ìì‹ ì´ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ë©´ ìë™ìœ¼ë¡œ nilì„ í• ë‹¹

room = nil  // Room ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0
// Room 505 is being deinitialized
```
---


## ë¯¸ì†Œìœ ì°¸ì¡° (Unowned Reference)
- ì•½í•œ ì°¸ì¡°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ **`ë¯¸ì†Œìœ ì°¸ì¡°(Unowned Reference)`** ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
- **ë¯¸ì†Œìœ ì°¸ì¡°ëŠ” ì•½í•œì°¸ì¡°ì™€ ë‹¤ë¥´ê²Œ `ìì‹ ì´ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ í•­ìƒ ë©”ëª¨ë¦¬ì— ì¡´ì¬í•  ê²ƒì´ë¼ëŠ” ì „ì œ`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.**
  - ìì‹ ì´ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ë”ë¼ë„ ìŠ¤ìŠ¤ë¡œ `nil`ì„ í• ë‹¹í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤.
  - ğŸ‘‰ ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë¯¸ì†Œìœ ì°¸ì¡°ë¥¼ í•˜ëŠ” ë³€ìˆ˜ë‚˜ í”„ë¡œí¼í‹°ëŠ” `ì˜µì…”ë„ì´ë‚˜ ë³€ìˆ˜ê°€ ì•„ë‹ˆì–´ë„ ëœë‹¤.`
  > ğŸš§ í•˜ì§€ë§Œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼ ì‹œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ë¯¸ì†Œìœ ì°¸ì¡°ëŠ” **ì°¸ì¡°í•˜ëŠ” ë™ì•ˆ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” í™•ì‹ ì´ ìˆì„ ë•Œë§Œ** ì‚¬ìš©í•´ì•¼ í•œë‹¤.

- âœ… `unowned` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¯¸ì†Œìœ ì°¸ì¡°ë¥¼ í•  ìˆ˜ ìˆë‹¤.

  ---
ğŸ“Œ `ì˜ˆì‹œì½”ë“œ - ì‚¬ëŒê³¼ ì‹ ìš©ì¹´ë“œ`
- ì‚¬ëŒê³¼ ì‹ ìš©ì¹´ë“œì˜ ê´€ê³„
  - ì‚¬ëŒì€ ì‹ ìš©ì¹´ë“œë¥¼ ì†Œì§€í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.
  - ì‹ ìš©ì¹´ë“œëŠ” ëª…ì˜ìê°€ ê¼­ ìˆì–´ì•¼ í•œë‹¤.
  ``` Swift
  // [ ë¯¸ì†Œìœ ì°¸ì¡° ]
  
  class Person {
      let name: String
      
      /*
       - ì¹´ë“œë¥¼ ì†Œì§€í•  ìˆ˜ë„, ì†Œì§€í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ì˜µì…”ë„ë¡œ ì •ì˜í•œë‹¤.
       - ì¹´ë“œë¥¼ í•œ ë²ˆ ê°€ì§„ í›„ ìƒì–´ë²„ë¦¬ë©´ ì•ˆ ë˜ê¸° ë•Œë¬¸ì— ê°•í•œì°¸ì¡°ë¥¼ í•´ì•¼ í•œë‹¤.
       */
      var card: CreditCard?
      
      init(name: String) {
          self.name = name
      }
      
      deinit { print("\(name) is being deinitialized") }
  }
  
  class CreditCard {
      let number: UInt
      unowned let owner: Person   // ì¹´ë“œëŠ” ì†Œìœ ìê°€ ë¶„ëª…íˆ ì¡´ì¬í•´ì•¼ í•œë‹¤.
      
      init(number: UInt, owner: Person) {
          self.number = number
          self.owner = owner
      }
      
      deinit {
          print("Card #\(number) is being deinitialized")
      }
  }
  
  var rei: Person? = Person(name: "rei") // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1
  
  if let person: Person = rei {
      // CreditCardì˜ ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° íšŸìˆ˜ : 1
      person.card = CreditCard(number: 1004, owner: person)
      // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 1 ğŸ‘‰ ownerëŠ” ë¯¸ì†Œìœ ì°¸ì¡°ë¥¼ í•˜ê¸° ë•Œë¬¸ì— Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ê°€ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.
  }
  
  rei = nil   // Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0
  // CreditCard ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ : 0 ğŸ‘‰ card í”„ë¡œí¼í‹°ëŠ” ê°•í•œì°¸ì¡°ë¥¼ í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— CreditCard ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ë„ 1 ê°ì†Œëœë‹¤.
  // rei is being deinitialized
  // Card #1004 is being deinitialized
  ```
---


## ë¯¸ì†Œìœ  ì˜µì…”ë„ ì°¸ì¡°
- í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ì˜µì…”ë„ì„ ë¯¸ì†Œìœ ë¡œ í‘œì‹œí•  ìˆ˜ ìˆë‹¤. 
- `ë¯¸ì†Œìœ  ì˜µì…”ë„ ì°¸ì¡°`ì™€ `ì•½í•œì°¸ì¡°`ë¥¼ ê°™ì€ ìƒí™©ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
  - ë‹¤ë§Œ ë¯¸ì†Œìœ  ì˜µì…”ë„ ì°¸ì¡°ëŠ” í•­ìƒ ìœ íš¨í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê±°ë‚˜ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `nil`ì„ í• ë‹¹í•´ ì£¼ë„ë¡ ì§ì ‘ ê´€ë¦¬ë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤.
``` Swift
// [ ë¯¸ì†Œìœ  ì˜µì…”ë„ ì°¸ì¡°ì˜ ì‚¬ìš© ]

class Department {
    var name: String
    var subjects: [Subject] = [] // í•™ê³¼ì—ì„œ ìš´ì˜í•˜ëŠ” ê° ê³¼ëª©ì„ ë°°ì—´ì— ë‹´ì•„ ê°•í•œì°¸ì¡°
    init(name: String) {
        self.name = name
    }
}

class Subject {
    var name: String
    unowned var department: Department  // í•™ê³¼ (ê³¼ëª©ì€ ë°˜ë“œì‹œ íŠ¹ì • í•™ê³¼ì— ì†í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì˜µì…”ë„x)
    unowned var nextSubject: Subject?   // í•™ìƒì´ ìˆ˜ê°•í•´ì•¼ í•˜ëŠ” ë‹¤ìŒ ê³¼ëª© (ëª¨ë“  ê³¼ëª©ì´ ë‹¤ìŒ ì°¨ë¡€ì˜ ê³¼ëª©ì„ ê°–ê³  ìˆëŠ” ê²ƒì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì˜µì…”ë„)
    init(name: String, in department: Department) {
        self.name = name
        self.department = department
        self.nextSubject = nil
    }
}

let department = Department(name: "Computer Science")

let intro = Subject(name: "Computer Architecture", in: department)
let intermediate = Subject(name: "Swift Language", in: department)
let advanced = Subject(name: "iOS App Programming", in: department)

/*
 - intro, intermediate ê³¼ëª©ì€ ë‹¤ìŒ ìˆ˜ê°• ê³¼ëª©ì„ ë¯¸ì†Œìœ  ì˜µì…”ë„ ì°¸ì¡°ë¡œ nextSubject í”„ë¡œí¼í‹°ì— ì €ì¥í•œë‹¤.
 - ì˜µì…”ë„ ê°’ì¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë  ë•Œ ARCì— ì˜í•´ ë³´í˜¸ë°›ì§€ ëª»í•œë‹¤. â†’ ì´ëŠ” ë¯¸ì†Œìœ ì°¸ì¡°ì™€ ë™ì¼í•˜ì§€ë§Œ, ë¯¸ì†Œìœ  ì˜µì…”ë„ ì°¸ì¡°ëŠ” nilì´ ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.
 */
intro.nextSubject = intermediate
intermediate.nextSubject = advanced
department.subjects = [intro, intermediate, advanced]
/*
 - ì˜µì…”ë„ì´ ì•„ë‹Œ ë¯¸ì†Œìœ ì°¸ì¡°ì™€ ê°™ì´ nextSubjectê°€ í•­ìƒ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì§€ ì•Šê³  ì‚´ì•„ ìˆëŠ” ê³¼ëª©ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì‹ ê²½ ì¨ì£¼ì–´ì•¼ í•œë‹¤.
    - ex) department.subjectsì—ì„œ í•œ ê³¼ëª©ì„ ì œê±°í•œë‹¤ë©´, ê·¸ ê³¼ëª©ì„ nextSubjectë¡œ ì°¸ì¡°í•˜ê³  ìˆëŠ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ nextSubjectì˜ ì°¸ì¡°ë¥¼ ì œê±°í•´ ì¤˜ì•¼ í•œë‹¤.
 */
```

> ğŸ’¡ `ì˜µì…”ë„(Optional)`ì€ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì—´ê±°í˜•ìœ¼ë¡œ ì •ì˜ëœ `ê°’ íƒ€ì…`ì´ë‹¤. ì›ë˜ ê°’ íƒ€ì…ì€ ì°¸ì¡° íƒ€ì…ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— `unowned` ë“±ìœ¼ë¡œ ì°¸ì¡° ê´€ë¦¬ë¥¼ í•  ìˆ˜ ì—†ë‹¤. **ê·¸ëŸ¬ë‚˜ ì˜µì…”ë„ì€ ê°’ íƒ€ì…ì¼ì§€ë¼ë„ ì˜ˆì™¸ì ìœ¼ë¡œ `unowned` ë“±ì„ í™œìš©í•´ ì°¸ì¡° ê´€ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.**
>
> ê·¸ë¦¬ê³  í´ë˜ìŠ¤ë¥¼ ê°ì‹¸ëŠ” ì˜µì…”ë„ì€ ì°¸ì¡° íšŸìˆ˜ ê³„ì‚°ì„ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°•í•œì°¸ì¡°ë¡œ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.
---


## ë¯¸ì†Œìœ ì°¸ì¡°ì™€ ì•”ì‹œì  ì¶”ì¶œ ì˜µì…”ë„ í”„ë¡œí¼í‹°
- ì„œë¡œ ì°¸ì¡°í•´ì•¼ í•˜ëŠ” í”„ë¡œí¼í‹°ì— ê°’ì´ ê¼­ ìˆì–´ì•¼ í•˜ë©´ì„œë„ í•œë²ˆ ì´ˆê¸°í™”ë˜ë©´ ê·¸ ì´í›„ì—ëŠ” `nil`ì„ í• ë‹¹í•  ìˆ˜ ì—†ëŠ” ì¡°ê±´ì„ ê°–ì¶”ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.

### ğŸ“Œ `ì˜ˆì‹œ ì½”ë“œ`
- Companyì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•ŒëŠ” ê¼­ CEOê°€ ìˆì–´ì•¼ í•œë‹¤.
- Companyê°€ ì¡´ì¬í•˜ëŠ” í•œ ceo í”„ë¡œí¼í‹°ì—ëŠ” ê¼­ CEO ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•´ì•¼ í•œë‹¤.
- CEOì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” íšŒì‚¬ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤.
  
    ---
- íšŒì‚¬ê°€ ì‚¬ë¼ì§€ë©´ CEOê°€ ìˆì„ ì˜ë¯¸ê°€ ì—†ê¸° ë•Œë¬¸ì— `ê°•í•œì°¸ì¡°`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ğŸ‘‰ ì°¸ì¡° ì¹´ìš´íŠ¸ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•Šê³ , ì˜µì…”ë„ë„ ì•„ë‹ˆì–´ì•¼ í•¨
- Companyì˜ ceo í”„ë¡œí¼í‹°ì— `ì•”ì‹œì  ì¶”ì¶œ ì˜µì…”ë„`ì„ ì‚¬ìš©í•œ ì´ìœ  ğŸ‘‰ **`Company íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•  ë•Œ, CEO íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ ìê¸° ìì‹ ì„ ì°¸ì¡°í•˜ë„ë¡ ë³´ë‚´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸`**
  - ì•”ì‹œì  ì¶”ì¶œ ì˜µì…”ë„ì´ ì•„ë‹Œ ì¼ë°˜ í”„ë¡œí¼í‹°ë¡œ ì‚¬ìš©í•œë‹¤ë©´ Company ìì‹ ì˜ init ë©”ì„œë“œê°€ ëë‚œ í›„ì—ë§Œ CEO(name: ceoName, company: self)ì™€ ê°™ì€ ì½”ë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

> ğŸ‘‰ **`ì•”ì‹œì  ì¶”ì¶œ ì˜µì…”ë„ í”„ë¡œí¼í‹°`** : [ì´ë‹ˆì…œë¼ì´ì €ì˜ 2ë‹¨ê³„ ì´ˆê¸°í™”](https://github.com/kybeen/Swift-Study/blob/main/Chapter18/Chapter18.md#-2ë‹¨ê³„-ì´ˆê¸°í™”) ì¡°ê±´ì„ ì¶©ì¡±ì‹œí‚¤ê¸° ìœ„í•´ ì‚¬ìš© (ìê¸° ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •ì—ì„œ `self` í‚¤ì›Œë“œë¡œ ìê¸° ìì‹ ì„ ì°¸ì¡°í•˜ë„ë¡ ë³´ë‚´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸)
>
> ğŸ‘‰ **`ë¯¸ì†Œìœ ì°¸ì¡°(unowned) í”„ë¡œí¼í‹°`** : companyê°€ ì—†ìœ¼ë©´ CEOëŠ” ì˜ë¯¸ê°€ ì—†ê¸° ë•Œë¬¸ì— ê°•í•œì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ+ì˜µì…”ë„ ì•„ë‹˜ | ìƒìˆ˜ í”„ë¡œí¼í‹°ì—¬ì•¼ í•¨

``` Swift
// [ ë¯¸ì†Œìœ ì°¸ì¡°ì™€ ì•”ì‹œì  ì¶”ì¶œ ì˜µì…”ë„ í”„ë¡œí¼í‹°ì˜ í™œìš© ]

class Company {
    let name: String
    // ì•”ì‹œì  ì¶”ì¶œ ì˜µì…”ë„ í”„ë¡œí¼í‹° (ê°•í•œì°¸ì¡°)
    var ceo: CEO!
    
    init(name: String, ceoName: String) {
        self.name = name
        self.ceo = CEO(name: ceoName, company: self)
    }
    
    func introduce() {
        print("\(name)ì˜ CEOëŠ” \(ceo.name)ì…ë‹ˆë‹¤.")
    }
}

class CEO {
    let name: String
    // ë¯¸ì†Œìœ ì°¸ì¡° ìƒìˆ˜ í”„ë¡œí¼í‹° (ë¯¸ì†Œìœ ì°¸ì¡°)
    unowned let company: Company
    
    init(name: String, company: Company) {
        self.name = name
        self.company = company
    }
    
    func introduce() {
        print("\(name)ëŠ” \(company.name)ì˜ CEOì…ë‹ˆë‹¤.")
    }
}

let company: Company = Company(name: "ë¬´í•œìƒì‚¬", ceoName: "ê¹€íƒœí˜¸")
company.introduce()     // ë¬´í•œìƒì‚¬ì˜ CEOëŠ” ê¹€íƒœí˜¸ì…ë‹ˆë‹¤.
company.ceo.introduce() // ê¹€íƒœí˜¸ëŠ” ë¬´í•œìƒì‚¬ì˜ CEOì…ë‹ˆë‹¤.
```
---


## í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜
- `ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œ`ëŠ” ë‘ ì¸ìŠ¤í„´ìŠ¤ë¼ë¦¬ì˜ ì°¸ì¡°ì¼ ë•Œë§Œ ë°œìƒí•˜ëŠ” ê²ƒ ì™¸ì—ë„ `í´ë¡œì €ê°€ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ì¼ ë•Œ`ë‚˜, `í´ë¡œì €ì˜ ê°’ íšë“ íŠ¹ì„±` ë•Œë¬¸ì— ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.
  > ğŸ‘‰ í´ë¡œì € ë‚´ë¶€ì—ì„œ `self.someProperty`ì™€ ê°™ì´ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ë•Œë‚˜
  > ğŸ‘‰ í´ë¡œì € ë‚´ë¶€ì—ì„œ `self.someMethod()`ì²˜ëŸ¼ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ
  >
  > [`ê°’ íšë“`](https://github.com/kybeen/Swift-Study/blob/main/Chapter13/Chapter13.md#ê°’-íšë“)ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë°, ë‘ ê²½ìš° ëª¨ë‘ í´ë¡œì €ê°€ `self`ë¥¼ íšë“í•˜ë¯€ë¡œ **`ê°•í•œì°¸ì¡° ìˆœí™˜ì´ ë°œìƒ`** í•œë‹¤.

- ğŸ’¡ **í´ë¡œì €ëŠ” í´ë˜ìŠ¤ì™€ ê°™ì€ `ì°¸ì¡° íƒ€ì…`ì´ê¸° ë•Œë¬¸ì— í´ë¡œì €ë¥¼ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¡œ í• ë‹¹í•˜ë©´ í´ë¡œì €ì˜ ì°¸ì¡°ê°€ í• ë‹¹ëœë‹¤.** ì´ ë•Œ `ì°¸ì¡° íƒ€ì…ê³¼ ì°¸ì¡° íƒ€ì…ì´ ì„œë¡œ ê°•í•œì°¸ì¡°`ë¥¼ í•˜ê¸° ë•Œë¬¸ì— **`ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œ`ê°€ ë°œìƒ**í•˜ëŠ” ê²ƒì´ë‹¤.

- **âœ… í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œëŠ” `í´ë¡œì €ì˜ íšë“ ëª©ë¡`ì„ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.**
    
    ---
### ğŸ“Œ `í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì˜ˆì‹œ`
- ìê¸°ì†Œê°œë¥¼ í•˜ê¸° ìœ„í•´ `introduce` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ í´ë¡œì €ë¥¼ í˜¸ì¶œí•˜ë©´ ê·¸ ë•Œ `í´ë¡œì €ëŠ” ìì‹ ì˜ ë‚´ë¶€ì— ìˆëŠ” ì°¸ì¡° íƒ€ì… ë³€ìˆ˜ ë“±ì„ íšë“`í•œë‹¤.
  - **ğŸ‘‰ í´ë¡œì €ëŠ” ìì‹ ì´ í˜¸ì¶œë˜ë©´ ì–¸ì œë“ ì§€ ìì‹  ë‚´ë¶€ì˜ ì°¸ì¡°ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ `ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œì¼œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ëŠ” ê²ƒì„ ë°©ì§€`í•˜ëŠ”ë°, ì´ë•Œ ìì‹ ì„ í”„ë¡œí¼í‹°ë¡œ ê°–ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ë„ ì¦ê°€ì‹œí‚¨ë‹¤.**
  - **â€¼ï¸ ì´ë ‡ê²Œ ê°•í•œì°¸ì¡° ìˆœí™˜ì´ ë°œìƒí•˜ë©´ `ìì‹ ì„ ê°•í•œì°¸ì¡° í”„ë¡œí¼í‹°ë¡œ ê°–ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒ`í•œë‹¤.**
  > ğŸ’¡ í´ë¡œì € ë‚´ë¶€ì—ì„œ `self` í”„ë¡œí¼í‹°ë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ì—¬ ì ‘ê·¼í•´ë„ ì°¸ì¡° íšŸìˆ˜ëŠ” í•œ ë²ˆë§Œ ì¦ê°€í•œë‹¤.

  ``` Swift
  // [ í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œ ]
  
  class Person {
      let name: String
      let hobby: String?
      
      // introduceëŠ” ì§€ì—° ì €ì¥ í”„ë¡œí¼í‹°ë¡œ ì„ ì–¸ë˜ì–´ ìˆê¸° ëŒ€ë¬¸ì— í• ë‹¹ëœ í´ë¡œì € ë‚´ë¶€ì—ì„œ self í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
      lazy var introduce: () -> String = {
          
          var introduction: String = "My name is \(self.name)."
          
          guard let hobby = self.hobby else {
              return introduction
          }
          
          introduction += " "
          introduction += "My hobby is \(hobby)."
          
          return introduction
      }
      
      init(name: String, hobby: String? = nil) {
          self.name = name
          self.hobby = hobby
      }
      
      deinit {
          print("\(name) is being deinitialized")
      }
  }
  
  var rei: Person? = Person(name: "rei", hobby: "eating")
  print(rei?.introduce()) // My name is rei. My hobby is eating.
  rei = nil
  /*
   rei ë³€ìˆ˜ì— nilì„ í• ë‹¹í–ˆì§€ë§Œ deinitì´ í˜¸ì¶œë˜ì§€ ì•ŠìŒ ğŸ‘‰ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°œìƒ
   */
  ```
    ---

### ğŸ“Œ `íšë“ëª©ë¡`
- **í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œëŠ” `íšë“ëª©ë¡(Capture list)`ì„ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.**
- íšë“ëª©ë¡ì€ `í´ë¡œì € ë‚´ë¶€ì—ì„œ ì°¸ì¡° íƒ€ì…ì„ íšë“í•˜ëŠ” ê·œì¹™ì„ ì œì‹œí•´ì¤„ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥`ì´ë‹¤.
  - ğŸ‘‰ í´ë¡œì € ë‚´ë¶€ì˜ `self` ì°¸ì¡°ë¥¼ `ì•½í•œì°¸ì¡°`ë¡œ ì§€ì •í•  ìˆ˜ë„, `ê°•í•œì°¸ì¡°`ë¡œ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.

- **âœ… íšë“ëª©ë¡ì€ í´ë¡œì € ë‚´ë¶€ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ ì´ì „ ìœ„ì¹˜ì— ì‘ì„±í•´ì¤€ë‹¤.**
- **âœ… ì°¸ì¡° ë°©ì‹ê³¼ ì°¸ì¡°í•  ëŒ€ìƒì„ `[]`ë¡œ ë‘˜ëŸ¬ì‹¼ ëª©ë¡ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©°, íšë“ëª©ë¡ ë’¤ì—ëŠ” `in` í‚¤ì›Œë“œë¥¼ ì‘ì„±í•´ì¤€ë‹¤.**
 
- ğŸ‘‰ íšë“ëª©ë¡ì— ëª…ì‹œí•œ ìš”ì†Œê°€ `ê°’ íƒ€ì…`ì´ë¼ë©´(ì°¸ì¡° íƒ€ì…ì´ ì•„ë‹ˆë¼ë©´) `í•´ë‹¹ ìš”ì†Œë“¤ì€ í´ë¡œì €ê°€ ìƒì„±ë  ë•Œ ì´ˆê¸°í™”`ëœë‹¤.
    ``` Swift
    // [ íšë“ëª©ë¡ì„ í†µí•œ ê°’ íšë“ ]

    /*
    - ë³€ìˆ˜ aëŠ” íšë“ëª©ë¡ì„ í†µí•´ í´ë¡œì €ê°€ ìƒì„±ë  ë•Œ ê°’ 0ì„ íšë“í–ˆì§€ë§Œ bëŠ” ë”°ë¡œ ê°’ì„ íšë“í•˜ì§€ ì•Šì•˜ë‹¤.
        ğŸ‘‰ a ë³€ìˆ˜ëŠ” í´ë¡œì €ê°€ ìƒì„±ë¨ê³¼ ë™ì‹œì— íšë“ëª©ë¡ ë‚´ì—ì„œ ë‹¤ì‹œ aë¼ëŠ” ì´ë¦„ì˜ ìƒìˆ˜ë¡œ ì´ˆê¸°í™”ëœ ê²ƒì„
        ğŸ‘‰ ì™¸ë¶€ì—ì„œ aì˜ ê°’ì„ ë³€ê²½í•˜ë”ë¼ë„ í´ë¡œì €ì˜ íšë“ëª©ë¡ìœ¼ë¡œ íšë“í•œ aì™€ëŠ” ë³„ê°œê°€ ëœë‹¤.
        ğŸ‘‰ bì˜ ê²½ìš°ì—ëŠ” í´ë¡œì €ì˜ ë‚´/ì™¸ë¶€ ìƒê´€ì—†ì´ ê°’ì´ ë³€í•˜ëŠ”ëŒ€ë¡œ ë°˜ì˜ëœë‹¤.
    */
    var a = 0
    var b = 0
    let closure = { [a] in
        print(a, b)
        b = 20
    }

    a = 10
    b = 10
    closure() // aëŠ” í´ë¡œì € ìƒì„± ì‹œ íšë“í•œ ê°’ì„ ê°–ì§€ë§Œ, bëŠ” ë³€ê²½ëœ ê°’ì„ ì‚¬ìš©í•œë‹¤.
    // 0 10
    print(b)
    // 20
    ```

- ğŸ‘‰ íšë“ëª©ë¡ì— í•´ë‹¹í•˜ëŠ” ìš”ì†Œê°€ `ì°¸ì¡° íƒ€ì…`ì¸ ê²½ìš° íšë“ëª©ë¡ì—ì„œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì°¸ì¡°í•  ê²ƒì¸ì§€ë¥¼ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.
  - `ê°•í•œíšë“(Strong Capture)` | `ì•½í•œíšë“(Weak Capture)` | `ë¯¸ì†Œìœ íšë“(Unowned Capture)`
  - ë˜í•œ `íšë“ì˜ ì¢…ë¥˜ì— ë”°ë¼ ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¬ì§€ë„ ê²°ì •`í•  ìˆ˜ ìˆë‹¤.
    - **ğŸš§ `ì•½í•œíšë“`ì„ í•˜ê²Œ ë˜ë©´ íšë“ëª©ë¡ì—ì„œ íšë“í•˜ëŠ” ìƒìˆ˜ê°€ `ì˜µì…”ë„ ìƒìˆ˜ë¡œ ì§€ì •`ëœë‹¤. (í•´ë‹¹ ì°¸ì¡° ëŒ€ìƒì´ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœ ìƒíƒœì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—)**

  ``` Swift
  // [ ì°¸ì¡° íƒ€ì…ì˜ íšë“ëª©ë¡ ë™ì‘ ]
  
  /*
   - ë³€ìˆ˜ xëŠ” íšë“ëª©ë¡ì„ í†µí•´ ê°’ì„ íšë“í–ˆê³  yëŠ” íšë“ëª©ë¡ì— ë³„ë„ë¡œ ëª…ì‹œë˜ì§€ ì•Šì•˜ì§€ë§Œ, ë‘ ë³€ìˆ˜ ëª¨ë‘ ì°¸ì¡° íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆê¸° ë•Œë¬¸ì— ì„œë¡œ ë™ì‘ì€ ê°™ë‹¤.
   */
  class SimpleClass {
      var value: Int = 0
  }
  
  var x = SimpleClass()
  var y = SimpleClass()
  
  let closure = { [x] in
      print(x.value, y.value)
  }
  x.value = 10
  y.value = 10
  
  closure() // 10 10
  ```

  ``` Swift
  // [ íšë“ëª©ë¡ì˜ íšë“ ì¢…ë¥˜ ëª…ì‹œ ]
  
  class SimpleClass {
      var value: Int = 0
  }
  
  var x: SimpleClass? = SimpleClass()
  var y = SimpleClass()
  
  // íšë“ëª©ë¡ì—ì„œ xë¥¼ ì•½í•œì°¸ì¡°ë¡œ, yë¥¼ ë¯¸ì†Œìœ ì°¸ì¡°í•˜ë„ë¡ ì§€ì •
  let closure = { [weak x, unowned y] in
      // xëŠ” ì•½í•œì°¸ì¡°ì´ë¯€ë¡œ í´ë¡œì € ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ë”ë¼ë„ xê°€ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
      print(x?.value, y.value)
  }
  
  x = nil
  y.value = 10
  
  closure() // nil 10
  /*
   ğŸ‘‰ í´ë¡œì €ì˜ xê°€ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì–´ í´ë¡œì € ë‚´ë¶€ì—ì„œë„ ë” ì´ìƒ ì°¸ì¡°ê°€ ë¶ˆê°€ëŠ¥
   ğŸ‘‰ yëŠ” ë¯¸ì†Œìœ ì°¸ì¡°ë¥¼ í–ˆê¸° ë•Œë¬¸ì— í´ë¡œì €ê°€ ì°¸ì¡° íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ì§€ëŠ” ì•Šì§€ë§Œ, ë§Œì•½ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœ ìƒíƒœì—ì„œ ì‚¬ìš© ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
   */
  ```
  ---

### ğŸ“Œ `í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì˜ˆì‹œ` í•´ê²° ì½”ë“œ
- ìœ„ì˜ [ğŸ“Œ `í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì˜ˆì‹œ`](https://github.com/kybeen/Swift-Study/edit/main/Chapter27/Chapter27.md#-í´ë¡œì €ì˜-ê°•í•œì°¸ì¡°-ìˆœí™˜-ë¬¸ì œê°€-ë°œìƒí•˜ëŠ”-ì˜ˆì‹œ) ì½”ë“œì—ì„œ í™•ì¸í–ˆë˜ í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œëŠ” ì•„ë˜ì™€ ê°™ì´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
- ğŸ‘‰ `introduce` í”„ë¡œí¼í‹°ì˜ í´ë¡œì €ê°€ `selfë¥¼` ë¯¸ì†Œìœ ì°¸ì¡°í•˜ë„ë¡ íšë“ëª©ë¡ì— ëª…ì‹œí•¨ìœ¼ë¡œì¨ ì°¸ì¡° ì¹´ìš´íŠ¸ê°€ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.
  - **ğŸ’¡ `ë¯¸ì†Œìœ ì°¸ì¡°`ë¡œ ì§€ì •í•œ ì´ìœ ëŠ”** ğŸ‘‰ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í”„ë¡œí¼í‹°ë„ í˜¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— `self`ë¥¼ ë¯¸ì†Œìœ ì°¸ì¡° í•˜ë”ë¼ë„ ì‹¤í–‰ ì¤‘ì— ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ê°€ëŠ¥ì„±ì´ ê±°ì˜ ì—†ë‹¤ê³  ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸
    > ğŸš§ í•˜ì§€ë§Œ í”„ë¡œí¼í‹°ë¡œ ì‚¬ìš©í•˜ë˜ í´ë¡œì €ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œ ì°¸ì¡°í•˜ê²Œ ëœ í›„ ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœë‹¤ë©´ ì˜ëª»ëœ ë©”ëª¨ë¦¬ ì ‘ê·¼ìœ¼ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
    >
    > **ğŸ’¡ ë”°ë¼ì„œ ë¯¸ì†Œìœ ì°¸ì¡°ëŠ” ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•˜ê³ , ë¬¸ì œê°€ ë  ì†Œì§€ê°€ ìˆë‹¤ë©´ `ì•½í•œì°¸ì¡°(weak)`ë¥¼ ì‚¬ìš©í•´ì£¼ì**

  ``` Swift
  // [ íšë“ëª©ë¡ì„ í†µí•œ í´ë¡œì €ì˜ ê°•í•œì°¸ì¡° ìˆœí™˜ ë¬¸ì œ í•´ê²° ]
  
  class Person {
      let name: String
      let hobby: String?
      
      // ğŸ‘‰ selfë¥¼ ë¯¸ì†Œìœ ì°¸ì¡°í•˜ë„ë¡ íšë“ëª©ë¡ì— ëª…ì‹œ
      lazy var introduce: () -> String = { [unowned self] in
          var introduction: String = "My name is \(self.name)."
          
          guard let hobby = self.hobby else {
              return introduction
          }
          
          introduction += " "
          introduction += "My hobby is \(hobby)."
          return introduction
      }
      
      init(name: String, hobby: String? = nil) {
          self.name = name
          self.hobby = hobby
      }
      
      deinit {
          print("\(name) is being deinitialized")
      }
  }
  
  var rei: Person? = Person(name: "rei", hobby: "eating")
  print(rei?.introduce()) // My name is rei. My hobby is eating.
  
  rei = nil   // rei is being deinitialized
  // ğŸ‘‰ ì˜ë„í•œ ëŒ€ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœë‹¤.
  ```

- ğŸ“Œ `ë¯¸ì†Œìœ ì°¸ì¡°ë¡œ ì¸í•œ ë¬¸ì œìƒí™© ì˜ˆì‹œ`
    ``` Swift
    // [ íšë“ëª©ë¡ì˜ ë¯¸ì†Œìœ ì°¸ì¡°ë¡œ ì¸í•œ ì°¨í›„ ì ‘ê·¼ ë¬¸ì œ ë°œìƒ ]

    var rei: Person? = Person(name: "rei", hobby: "eating")
    var son: Person? = Person(name: "son", hobby: "football")

    // sonì˜ introduce í”„ë¡œí¼í‹°ì— reiì˜ introduce í”„ë¡œí¼í‹° í´ë¡œì €ì˜ ì°¸ì¡° í• ë‹¹
    son?.introduce = rei?.introduce ?? {" "}

    print(rei?.introduce()) // My name is rei. My hobby is eating.

    rei = nil   // rei is being deinitialized
    print(son?.introduce()) // ğŸš§ ì´ë¯¸ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœ ì¸ìŠ¤í„´ìŠ¤(rei) ì°¸ì¡°ë¥¼ ì‹œë„í•˜ê²Œ ë˜ë©´ì„œ ì˜¤ë¥˜ ë°œìƒ!!
    ```
    <img width="1000" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-24 á„‹á…©á„Œá…¥á†« 3 16 01" src="https://github.com/kybeen/Swift-Study/assets/89764127/078a8082-89c6-4dae-93b7-11863e06ebb8">

- `ë¯¸ì†Œìœ ì°¸ì¡°ë¡œ ì¸í•œ ë¬¸ì œìƒí™©`ì´ ë°œìƒí•  ì—¬ì§€ê°€ ìˆìë©´ `ì•½í•œì°¸ì¡°`ë¡œ ë³€ê²½í•˜ì—¬ `ì˜µì…”ë„`ë¡œ ì‚¬ìš©í•´ë„ ë¬´ë°©í•˜ë‹¤.
    ``` Swift
    // [ íšë“ëª©ë¡ì˜ ì•½í•œì°¸ì¡°ë¥¼ í†µí•œ ì°¨í›„ ì ‘ê·¼ ë¬¸ì œ ë°©ì§€ ]

    class Person {
        let name: String
        let hobby: String?
        
        // ğŸ‘‰ selfë¥¼ ì•½í•œì°¸ì¡°í•˜ë„ë¡ íšë“ëª©ë¡ì— ëª…ì‹œ
        lazy var introduce: () -> String = { [weak self] in
            // ğŸ‘‰ ì•½í•œì°¸ì¡°ì´ê¸° ë•Œë¬¸ì— ì˜µì…”ë„ì„
            guard let `self` = self else {
                return "ì›ë˜ì˜ ì°¸ì¡° ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤."
            }
            
            var introduction: String = "My name is \(self.name)."
            
            guard let hobby = self.hobby else {
                return introduction
            }
            
            introduction += " "
            introduction += "My hobby is \(hobby)."
            return introduction
        }
        
        init(name: String, hobby: String? = nil) {
            self.name = name
            self.hobby = hobby
        }
        
        deinit {
            print("\(name) is being deinitialized")
        }
    }

    var rei: Person? = Person(name: "rei", hobby: "eating")
    var son: Person? = Person(name: "son", hobby: "football")

    // sonì˜ introduce í”„ë¡œí¼í‹°ì— reiì˜ introduce í”„ë¡œí¼í‹° í´ë¡œì €ì˜ ì°¸ì¡° í• ë‹¹
    son?.introduce = rei?.introduce ?? {" "}

    print(rei?.introduce()) // My name is rei. My hobby is eating.

    rei = nil   // rei is being deinitialized
    print(son?.introduce()) // ì›ë˜ì˜ ì°¸ì¡° ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤.
    // ğŸ‘‰ ì´ë¯¸ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œëœ ì¸ìŠ¤í„´ìŠ¤(rei) ì°¸ì¡°ë¥¼ ì‹œë„í•˜ì§€ë§Œ ì˜µì…”ë„ ì²˜ë¦¬ ë•ì— ì˜¤ë¥˜ëŠ” ë°œìƒí•˜ì§€ ì•ŠìŒ
    ```
